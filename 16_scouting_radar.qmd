# Scouting con Radar Charts

Este cap√≠tulo ense√±a a crear gr√°ficos de radar para comparar perfiles de jugadores.

```{webr-r}
library(tidyverse)

# Dataset de m√©tricas de jugadores normalizadas (percentiles 0-100)
jugadores_radar <- tibble(
  Jugador = c("Garc√≠a", "L√≥pez", "Mart√≠nez"),
  Goles = c(85, 45, 20),
  Asistencias = c(70, 80, 30),
  Pases_completados = c(60, 90, 75),
  Regates = c(75, 55, 25),
  Duelos_aereos = c(40, 35, 85),
  Duelos_defensivos = c(30, 50, 90),
  Intercepciones = c(25, 45, 88)
)

cat("‚úÖ Datos cargados\n")
print(jugadores_radar)
```

***

## 1. Preparaci√≥n de Datos para Radar

### Ejemplo 1.1: Formato largo para ggplot

```{webr-r}
radar_largo <- jugadores_radar %>%
  pivot_longer(-Jugador, names_to = "Metrica", values_to = "Valor")

radar_largo
```

---

***

## 2. Radar con coord_polar

### Ejemplo 2.1: Radar b√°sico

```{webr-r}
ggplot(radar_largo %>% filter(Jugador == "Garc√≠a"), 
       aes(x = Metrica, y = Valor, group = 1)) +
  geom_polygon(fill = "steelblue", alpha = 0.4, color = "steelblue") +
  geom_point(color = "steelblue", size = 3) +
  coord_polar() +
  ylim(0, 100) +
  labs(title = "Perfil de Garc√≠a") +
  theme_minimal() +
  theme(axis.text.x = element_text(size = 8))
```

### Ejemplo 2.2: Comparaci√≥n de dos jugadores

```{webr-r}
radar_largo %>%
  filter(Jugador %in% c("Garc√≠a", "Mart√≠nez")) %>%
  ggplot(aes(x = Metrica, y = Valor, group = Jugador, 
             fill = Jugador, color = Jugador)) +
  geom_polygon(alpha = 0.3) +
  geom_point(size = 2) +
  coord_polar() +
  ylim(0, 100) +
  labs(title = "Comparaci√≥n: Garc√≠a vs Mart√≠nez") +
  theme_minimal() +
  theme(axis.text.x = element_text(size = 7))
```

---

***

## 3. Radar Mejorado con L√≠neas de Referencia

```{webr-r}
# Crear c√≠rculos de referencia
circulos <- tibble(
  Nivel = rep(c(25, 50, 75, 100), each = length(unique(radar_largo$Metrica))),
  Metrica = rep(unique(radar_largo$Metrica), 4)
)

ggplot() +
  # C√≠rculos de referencia
  geom_polygon(data = circulos, aes(x = Metrica, y = Nivel, group = Nivel),
               fill = NA, color = "gray80", linetype = "dashed") +
  # Datos del jugador
  geom_polygon(data = radar_largo %>% filter(Jugador == "L√≥pez"),
               aes(x = Metrica, y = Valor, group = 1),
               fill = "coral", alpha = 0.4, color = "coral") +
  geom_point(data = radar_largo %>% filter(Jugador == "L√≥pez"),
             aes(x = Metrica, y = Valor), color = "coral", size = 3) +
  coord_polar() +
  ylim(0, 100) +
  labs(title = "Perfil de L√≥pez (Percentiles)") +
  theme_minimal()
```

---

***

## üèÜ Mini-Proyecto: Herramienta de Scouting

### Pregunta 1: Radar de Tres Jugadores
Crea un radar comparando los 3 jugadores del dataset.

```{webr-r}
# Escribe tu c√≥digo aqu√≠:


```

::: {.callout-tip collapse="true"}
## Ver soluci√≥n
```r
radar_largo %>%
  ggplot(aes(x = Metrica, y = Valor, group = Jugador, 
             fill = Jugador, color = Jugador)) +
  geom_polygon(alpha = 0.2) +
  geom_point(size = 2) +
  coord_polar() +
  ylim(0, 100) +
  facet_wrap(~Jugador) +
  labs(title = "Perfiles de Jugadores") +
  theme_minimal() +
  theme(legend.position = "none",
        axis.text.x = element_text(size = 6))
```
:::

### Pregunta 2: Score Global
Calcula un score global (media de todas las m√©tricas) y ordena los jugadores.

```{webr-r}
# Escribe tu c√≥digo aqu√≠:


```

::: {.callout-tip collapse="true"}
## Ver soluci√≥n
```r
jugadores_radar %>%
  pivot_longer(-Jugador, names_to = "Metrica", values_to = "Valor") %>%
  group_by(Jugador) %>%
  summarise(Score_Global = mean(Valor)) %>%
  arrange(desc(Score_Global))
```
:::

---

## Resumen

| Elemento | Funci√≥n |
|----------|---------|
| Formato largo | `pivot_longer()` |
| Radar | `geom_polygon() + coord_polar()` |
| Comparaci√≥n | M√∫ltiples `geom_polygon()` o `facet_wrap()` |
